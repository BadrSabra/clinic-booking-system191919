<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ù†Ø¸Ø§Ù… Ø­Ø¬Ø² Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2D5BFF;
            --secondary: #00C9A7;
            --accent: #FF6B9D;
            --dark: #1A237E;
            --light: #F8F9FF;
            --sidebar: #1A237E;
            --sidebar-hover: #283593;
            --card-bg: #FFFFFF;
            --text: #333333;
            --text-light: #666666;
            --border: #E0E0E0;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tajawal', sans-serif;
        }
        
        body {
            background: #F5F7FA;
            color: var(--text);
            display: flex;
            min-height: 100vh;
        }
        
        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
        .sidebar {
            width: 260px;
            background: var(--sidebar);
            color: white;
            transition: all 0.3s;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .clinic-logo {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 15px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 28px;
        }
        
        .clinic-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .clinic-status {
            font-size: 12px;
            color: var(--secondary);
            background: rgba(0, 201, 167, 0.1);
            padding: 4px 12px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .menu-section {
            margin-bottom: 25px;
        }
        
        .menu-title {
            font-size: 12px;
            color: rgba(255,255,255,0.5);
            padding: 0 20px 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .menu-items {
            list-style: none;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .menu-item:hover {
            background: var(--sidebar-hover);
            color: white;
            border-right: 4px solid var(--secondary);
        }
        
        .menu-item.active {
            background: var(--sidebar-hover);
            color: white;
            border-right: 4px solid var(--primary);
        }
        
        .menu-item i {
            width: 24px;
            font-size: 18px;
            margin-left: 10px;
        }
        
        .menu-item .badge {
            background: var(--accent);
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
            margin-right: auto;
        }
        
        .sidebar-footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.1);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .user-details h4 {
            font-size: 14px;
            margin-bottom: 2px;
        }
        
        .user-details p {
            font-size: 12px;
            color: rgba(255,255,255,0.6);
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            flex: 1;
            margin-right: 260px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        
        .page-title h1 {
            font-size: 28px;
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .page-title p {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .top-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .search-box {
            position: relative;
        }
        
        .search-box input {
            padding: 10px 40px 10px 15px;
            border: 1px solid var(--border);
            border-radius: 25px;
            width: 250px;
            font-size: 14px;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }
        
        .notification-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-light);
            cursor: pointer;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            font-size: 10px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .user-menu {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 25px;
            transition: background 0.3s;
        }
        
        .user-menu:hover {
            background: #f5f5f5;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .action-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .action-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .action-info h3 {
            font-size: 20px;
            margin-bottom: 5px;
            color: var(--dark);
        }
        
        .action-info p {
            color: var(--text-light);
            font-size: 14px;
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .stat-info h3 {
            font-size: 28px;
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .stat-info p {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .stat-trend {
            font-size: 12px;
            padding: 3px 10px;
            border-radius: 15px;
            margin-top: 5px;
            display: inline-block;
        }
        
        .trend-up {
            background: rgba(40, 167, 69, 0.1);
            color: var(--success);
        }
        
        .trend-down {
            background: rgba(220, 53, 69, 0.1);
            color: var(--danger);
        }
        
        /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
        .section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .section-header {
            padding: 25px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-header h2 {
            color: var(--dark);
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        thead {
            background: #f8f9fa;
        }
        
        th {
            padding: 15px 20px;
            text-align: right;
            color: var(--text-light);
            font-weight: 600;
            font-size: 14px;
            border-bottom: 2px solid var(--border);
        }
        
        td {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border);
            color: var(--text);
        }
        
        tbody tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-pending { background: #fff3cd; color: #856404; }
        .status-confirmed { background: #d4edda; color: #155724; }
        .status-completed { background: #d1ecf1; color: #0c5460; }
        .status-cancelled { background: #f8d7da; color: #721c24; }
        
        .btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
        }
        
        .btn-primary { background: var(--primary); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-warning { background: var(--warning); color: #212529; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-secondary { background: #f8f9fa; color: var(--text); border: 1px solid var(--border); }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
        
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        /* Ø§Ù„ØªÙ‚ÙˆÙŠÙ… */
        .calendar-container {
            padding: 25px;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }
        
        .calendar-day {
            text-align: center;
            font-weight: 600;
            color: var(--text-light);
            padding: 10px;
            font-size: 14px;
        }
        
        .calendar-date {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .calendar-date:hover {
            background: #f5f5f5;
        }
        
        .calendar-date.today {
            background: var(--primary);
            color: white;
        }
        
        .calendar-date.has-bookings::after {
            content: '';
            position: absolute;
            bottom: 5px;
            right: 50%;
            transform: translateX(50%);
            width: 5px;
            height: 5px;
            background: var(--secondary);
            border-radius: 50%;
        }
        
        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
        }
        
        @keyframes modalSlide {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 25px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            color: var(--dark);
            font-size: 20px;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
        }
        
        .modal-body {
            padding: 25px;
        }
        
        /* Ù…ØªØ¬Ø§ÙˆØ¨ÙŠØ© */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-right: 0;
            }
            
            .menu-toggle {
                display: block;
                background: none;
                border: none;
                font-size: 24px;
                color: var(--text);
                cursor: pointer;
            }
        }
        
        @media (max-width: 768px) {
            .search-box input {
                width: 200px;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .top-bar {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .search-box input {
                width: 100%;
            }
            
            .section-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="clinic-logo">
                <i class="fas fa-hospital"></i>
            </div>
            <h3 class="clinic-name">Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ù†Ø®Ø¨Ø© Ø§Ù„Ø·Ø¨ÙŠØ©</h3>
            <span class="clinic-status">â— Ù†Ø´Ø·Ø©</span>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-section">
                <div class="menu-title">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                <ul class="menu-items">
                    <li>
                        <a class="menu-item active" href="#">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</span>
                            <span class="badge">15</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-user-md"></i>
                            <span>Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-users"></i>
                            <span>Ø§Ù„Ù…Ø±Ø¶Ù‰</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
                <ul class="menu-items">
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-chart-bar"></i>
                            <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-bell"></i>
                            <span>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Ø³Ø±ÙŠØ¹</div>
                <ul class="menu-items">
                    <li>
                        <a class="menu-item" href="#" onclick="openAddBookingModal()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="booking.html" target="_blank">
                            <i class="fas fa-external-link-alt"></i>
                            <span>ØµÙØ­Ø© Ø§Ù„Ø­Ø¬Ø²</span>
                        </a>
                    </li>
                    <li>
                        <a class="menu-item" href="#">
                            <i class="fas fa-download"></i>
                            <span>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user-md"></i>
                </div>
                <div class="user-details">
                    <h4>Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h4>
                    <p>Ø·Ø¨ÙŠØ¨ Ø£Ø³Ù†Ø§Ù†</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content">
        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
        <div class="top-bar">
            <div class="page-title">
                <h1><i class="fas fa-tachometer-alt"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¯ÙƒØªÙˆØ± Ø£Ø­Ù…Ø¯ØŒ Ø¥Ù„ÙŠÙƒ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø¹ÙŠØ§Ø¯ØªÙƒ</p>
            </div>
            
            <div class="top-actions">
                <div class="search-box">
                    <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø±ÙŠØ¶ Ø£Ùˆ Ø­Ø¬Ø²...">
                    <i class="fas fa-search"></i>
                </div>
                
                <button class="notification-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                
                <button class="menu-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="user-menu">
                    <div class="user-avatar" style="width: 35px; height: 35px; font-size: 16px;">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div>
                        <h4 style="font-size: 14px; margin: 0;">Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h4>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
        <div class="quick-actions">
            <div class="action-card" onclick="openAddBookingModal()">
                <div class="action-icon" style="background: var(--primary);">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <div class="action-info">
                    <h3>Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯</h3>
                    <p>Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¹Ø¯ Ù…Ø±ÙŠØ¶ Ø¬Ø¯ÙŠØ¯</p>
                </div>
            </div>
            
            <div class="action-card" onclick="window.open('booking.html', '_blank')">
                <div class="action-icon" style="background: var(--secondary);">
                    <i class="fas fa-external-link-alt"></i>
                </div>
                <div class="action-info">
                    <h3>ØµÙØ­Ø© Ø§Ù„Ø­Ø¬Ø²</h3>
                    <p>Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø­Ø¬Ø² Ø§Ù„Ù…Ø±Ø¶Ù‰</p>
                </div>
            </div>
            
            <div class="action-card" onclick="location.href='#calendar'">
                <div class="action-icon" style="background: var(--accent);">
                    <i class="fas fa-calendar-day"></i>
                </div>
                <div class="action-info">
                    <h3>ØªÙ‚ÙˆÙŠÙ… Ø§Ù„ÙŠÙˆÙ…</h3>
                    <p>Ø¹Ø±Ø¶ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…</p>
                </div>
            </div>
            
            <div class="action-card" onclick="printReport()">
                <div class="action-icon" style="background: var(--success);">
                    <i class="fas fa-print"></i>
                </div>
                <div class="action-info">
                    <h3>Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±</h3>
                    <p>Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</p>
                </div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background: var(--primary);">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="stat-info">
                    <h3 id="todayBookings">12</h3>
                    <p>Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>
                    <span class="stat-trend trend-up">+2 Ø¹Ù† Ø§Ù„Ø£Ù…Ø³</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="background: var(--success);">
                    <i class="fas fa-user-check"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalPatients">85</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±Ø¶Ù‰</p>
                    <span class="stat-trend trend-up">+10 Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="background: var(--warning);">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pendingBookings">3</h3>
                    <p>ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
                    <span class="stat-trend trend-down">-1 Ø¹Ù† Ø§Ù„Ø£Ù…Ø³</span>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon" style="background: var(--info);">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-info">
                    <h3 id="todayRevenue">2,400</h3>
                    <p>Ø±ÙŠØ§Ù„ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>
                    <span class="stat-trend trend-up">+300 Ø¹Ù† Ø§Ù„Ø£Ù…Ø³</span>
                </div>
            </div>
        </div>
        
        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-calendar-day"></i> Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø§Ù„ÙŠÙˆÙ…</h2>
                <div>
                    <button class="btn btn-primary" onclick="openAddBookingModal()">
                        <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯
                    </button>
                    <button class="btn btn-secondary">
                        <i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ«
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²</th>
                            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
                            <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                            <th>Ø§Ù„Ø·Ø¨ÙŠØ¨</th>
                            <th>Ø§Ù„ÙˆÙ‚Øª</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="todayBookingsTable">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª -->
        <div class="section" id="calendar">
            <div class="section-header">
                <h2><i class="fas fa-calendar-alt"></i> ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</h2>
                <div class="calendar-header">
                    <button class="btn btn-secondary" onclick="prevMonth()">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <h3 id="currentMonth">ÙŠÙ†Ø§ÙŠØ± 2024</h3>
                    <button class="btn btn-secondary" onclick="nextMonth()">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                </div>
            </div>
            
            <div class="calendar-container">
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
                </div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© -->
        <div class="section">
            <div class="section-header">
                <h2><i class="fas fa-history"></i> Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h2>
                <button class="btn btn-secondary" onclick="loadMoreBookings()">
                    <i class="fas fa-redo"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯
                </button>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
                            <th>Ø§Ù„Ø·Ø¨ÙŠØ¨</th>
                            <th>Ø§Ù„ÙˆÙ‚Øª</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø§Ù„ØªÙØ§ØµÙŠÙ„</th>
                        </tr>
                    </thead>
                    <tbody id="recentBookingsTable">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ -->
    <div id="addBookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addBookingForm">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                                <i class="fas fa-user"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶
                            </label>
                            <input type="text" id="newPatientName" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;" required>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                                <i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                            </label>
                            <input type="tel" id="newPatientPhone" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;" required>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                            <i class="fas fa-user-md"></i> Ø§Ø®ØªØ± Ø§Ù„Ø·Ø¨ÙŠØ¨
                        </label>
                        <select id="newBookingDoctor" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;" required>
                            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø·Ø¨ÙŠØ¨ --</option>
                            <option value="Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ - Ø£Ø³Ù†Ø§Ù†">Ø¯. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ - Ø£Ø³Ù†Ø§Ù†</option>
                            <option value="Ø¯. Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ - Ø¨Ø§Ø·Ù†Ø©">Ø¯. Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ - Ø¨Ø§Ø·Ù†Ø©</option>
                            <option value="Ø¯. Ø®Ø§Ù„Ø¯ Ø­Ø³Ù† - Ø¹ÙŠÙˆÙ†">Ø¯. Ø®Ø§Ù„Ø¯ Ø­Ø³Ù† - Ø¹ÙŠÙˆÙ†</option>
                        </select>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                                <i class="fas fa-calendar"></i> Ø§Ù„ØªØ§Ø±ÙŠØ®
                            </label>
                            <input type="date" id="newBookingDate" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;" required>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                                <i class="fas fa-clock"></i> Ø§Ù„ÙˆÙ‚Øª
                            </label>
                            <input type="time" id="newBookingTime" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;" required>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <label style="display: block; margin-bottom: 8px; color: var(--dark); font-weight: 600;">
                            <i class="fas fa-notes-medical"></i> Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                        </label>
                        <textarea id="newBookingNotes" rows="3" style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <button type="submit" class="btn btn-primary" style="flex: 1;">
                            <i class="fas fa-check"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¬Ø²
                        </button>
                        <button type="button" class="btn btn-secondary" style="flex: 1;" onclick="closeModal()">
                            <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
            loadTodayBookings();
            loadRecentBookings();
            generateCalendar();
            updateDateTime();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
            setInterval(updateDashboardData, 30000);
        });
        
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function loadDashboardData() {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            // Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…
            const todayBookings = bookings.filter(b => b.date === today).length;
            document.getElementById('todayBookings').textContent = todayBookings;
            
            // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±Ø¶Ù‰ (Ø£Ø±Ù‚Ø§Ù… ÙØ±ÙŠØ¯Ø©)
            const uniquePatients = [...new Set(bookings.map(b => b.phone))].length;
            document.getElementById('totalPatients').textContent = uniquePatients;
            
            // Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ù†ØªØ¸Ø±Ø©
            const pendingBookings = bookings.filter(b => b.status === 'pending').length;
            document.getElementById('pendingBookings').textContent = pendingBookings;
            
            // Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ù…Ø­Ø§ÙƒØ§Ø©)
            const todayRevenue = bookings
                .filter(b => b.date === today && b.status === 'confirmed')
                .length * 200; // 200 Ø±ÙŠØ§Ù„ Ù„ÙƒÙ„ Ø­Ø¬Ø²
            document.getElementById('todayRevenue').textContent = todayRevenue.toLocaleString();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function updateDashboardData() {
            loadDashboardData();
            loadTodayBookings();
            generateCalendar();
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…
        function loadTodayBookings() {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            const todayBookings = bookings
                .filter(b => b.date === today)
                .sort((a, b) => a.time.localeCompare(b.time));
            
            const tableBody = document.getElementById('todayBookingsTable');
            tableBody.innerHTML = '';
            
            todayBookings.forEach(booking => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${booking.id}</strong></td>
                    <td>${booking.name}</td>
                    <td>${booking.phone}</td>
                    <td>${booking.doctor}</td>
                    <td>${booking.time}</td>
                    <td><span class="status-badge status-${booking.status}">${getStatusText(booking.status)}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-success" onclick="confirmBooking('${booking.id}')" title="ØªØ£ÙƒÙŠØ¯">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-sm btn-warning" onclick="editBooking('${booking.id}')" title="ØªØ¹Ø¯ÙŠÙ„">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="cancelBooking('${booking.id}')" title="Ø¥Ù„ØºØ§Ø¡">
                                <i class="fas fa-times"></i>
                            </button>
                            <button class="btn btn-sm" style="background: #25D366; color: white;" onclick="whatsappPatient('${booking.id}')" title="ÙˆØ§ØªØ³Ø§Ø¨">
                                <i class="fab fa-whatsapp"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row);
            });
            
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø­Ø¬ÙˆØ²Ø§Øª
            if (todayBookings.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px; color: var(--text-light);">
                            <i class="fas fa-calendar-times" style="font-size: 48px; margin-bottom: 20px; color: #ddd;"></i>
                            <br>
                            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…
                        </td>
                    </tr>
                `;
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
        function loadRecentBookings() {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            
            // Ø£Ø®Ø° Ø¢Ø®Ø± 10 Ø­Ø¬ÙˆØ²Ø§Øª
            const recentBookings = bookings
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 10);
            
            const tableBody = document.getElementById('recentBookingsTable');
            tableBody.innerHTML = '';
            
            recentBookings.forEach(booking => {
                const row = document.createElement('tr');
                const date = new Date(booking.date);
                const formattedDate = date.toLocaleDateString('ar-EG', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric'
                });
                
                row.innerHTML = `
                    <td>${formattedDate}</td>
                    <td>${booking.name}</td>
                    <td>${booking.doctor}</td>
                    <td>${booking.time}</td>
                    <td><span class="status-badge status-${booking.status}">${getStatusText(booking.status)}</span></td>
                    <td>
                        <button class="btn btn-sm btn-secondary" onclick="viewBookingDetails('${booking.id}')">
                            <i class="fas fa-eye"></i> Ø¹Ø±Ø¶
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        function generateCalendar() {
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ù‡Ø±
            const monthNames = [
                'ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ',
                'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'
            ];
            
            document.getElementById('currentMonth').textContent = 
                `${monthNames[currentMonth]} ${currentYear}`;
            
            // Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            const dayNames = ['Ø£Ø­Ø¯', 'Ø§Ø«Ù†ÙŠÙ†', 'Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø®Ù…ÙŠØ³', 'Ø¬Ù…Ø¹Ø©', 'Ø³Ø¨Øª'];
            
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£ÙŠØ§Ù…
            dayNames.forEach(day => {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'calendar-day';
                dayDiv.textContent = day;
                calendarGrid.appendChild(dayDiv);
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ÙŠØ§Ù…
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startDay = firstDay.getDay();
            
            // Ø£ÙŠØ§Ù… ÙØ§Ø±ØºØ© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
            for (let i = 0; i < startDay; i++) {
                const emptyDiv = document.createElement('div');
                emptyDiv.className = 'calendar-date';
                calendarGrid.appendChild(emptyDiv);
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù„Ù„ØªØ­Ù‚Ù‚
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            
            // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø±
            for (let day = 1; day <= daysInMonth; day++) {
                const dateDiv = document.createElement('div');
                dateDiv.className = 'calendar-date';
                dateDiv.textContent = day;
                dateDiv.dataset.date = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (day === now.getDate() && currentMonth === now.getMonth() && currentYear === now.getFullYear()) {
                    dateDiv.classList.add('today');
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø­Ø¬ÙˆØ²Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayBookings = bookings.filter(b => b.date === dateStr);
                
                if (dayBookings.length > 0) {
                    dateDiv.classList.add('has-bookings');
                    dateDiv.title = `${dayBookings.length} Ø­Ø¬Ø²`;
                }
                
                // Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø±
                dateDiv.addEventListener('click', function() {
                    showDayBookings(this.dataset.date);
                });
                
                calendarGrid.appendChild(dateDiv);
            }
        }
        
        // Ø¹Ø±Ø¶ Ø­Ø¬ÙˆØ²Ø§Øª ÙŠÙˆÙ… Ù…Ø¹ÙŠÙ†
        function showDayBookings(dateStr) {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const dayBookings = bookings.filter(b => b.date === dateStr);
            
            if (dayBookings.length === 0) {
                alert(`Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª ÙÙŠ ${new Date(dateStr).toLocaleDateString('ar-EG')}`);
                return;
            }
            
            let message = `ğŸ“… Ø­Ø¬ÙˆØ²Ø§Øª ${new Date(dateStr).toLocaleDateString('ar-EG')}:\n\n`;
            dayBookings.forEach(booking => {
                message += `ğŸ‘¤ ${booking.name}\nâ° ${booking.time}\nğŸ‘¨â€âš•ï¸ ${booking.doctor}\nğŸ“ ${booking.phone}\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
            });
            
            alert(message);
        }
        
        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function getStatusText(status) {
            const statusMap = {
                'pending': 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                'confirmed': 'Ù…Ø¤ÙƒØ¯',
                'cancelled': 'Ù…Ù„ØºÙ‰',
                'completed': 'Ù…ÙƒØªÙ…Ù„'
            };
            return statusMap[status] || status;
        }
        
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            
            const dateTimeStr = now.toLocaleDateString('ar-EG', options);
            document.querySelector('.page-title p').textContent = 
                `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¯ÙƒØªÙˆØ± Ø£Ø­Ù…Ø¯ØŒ Ø§Ù„ÙŠÙˆÙ… ${dateTimeStr}`;
        }
        
        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª
        function confirmBooking(bookingId) {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const bookingIndex = bookings.findIndex(b => b.id === bookingId);
            
            if (bookingIndex > -1) {
                bookings[bookingIndex].status = 'confirmed';
                localStorage.setItem('clinic_bookings', JSON.stringify(bookings));
                
                // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø­Ø§ÙƒØ§Ø©)
                sendWhatsAppNotification(bookings[bookingIndex], 'confirm');
                
                alert('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø±ÙŠØ¶');
                loadTodayBookings();
                loadDashboardData();
            }
        }
        
        function cancelBooking(bookingId) {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¬Ø²ØŸ')) {
                const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
                const bookingIndex = bookings.findIndex(b => b.id === bookingId);
                
                if (bookingIndex > -1) {
                    bookings[bookingIndex].status = 'cancelled';
                    localStorage.setItem('clinic_bookings', JSON.stringify(bookings));
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø­Ø§ÙƒØ§Ø©)
                    sendWhatsAppNotification(bookings[bookingIndex], 'cancel');
                    
                    alert('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø±ÙŠØ¶');
                    loadTodayBookings();
                    loadDashboardData();
                }
            }
        }
        
        function whatsappPatient(bookingId) {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const booking = bookings.find(b => b.id === bookingId);
            
            if (booking) {
                const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${booking.name} ğŸ‘‹
                
Ù‡Ø°Ø§ ØªØ°ÙƒÙŠØ± Ø¨Ù…ÙˆØ¹Ø¯Ùƒ ÙÙŠ Ø¹ÙŠØ§Ø¯ØªÙ†Ø§:
ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date(booking.date).toLocaleDateString('ar-EG')}
â° Ø§Ù„ÙˆÙ‚Øª: ${booking.time}
ğŸ‘¨â€âš•ï¸ Ø§Ù„Ø·Ø¨ÙŠØ¨: ${booking.doctor}

ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 10 Ø¯Ù‚Ø§Ø¦Ù‚.
Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ØŒ Ø§ØªØµÙ„ Ø¹Ù„Ù‰: 0112345678

Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§ â¤ï¸`;
                
                // ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ:
                // const whatsappUrl = `https://wa.me/${booking.phone}?text=${encodeURIComponent(message)}`;
                // window.open(whatsappUrl, '_blank');
                
                // Ù„Ù„Ù…Ø­Ø§ÙƒØ§Ø©:
                alert('ğŸ“± Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨:\n\n' + message);
            }
        }
        
        function sendWhatsAppNotification(booking, type) {
            let message = '';
            
            if (type === 'confirm') {
                message = `âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ù…ÙˆØ¹Ø¯Ùƒ
ğŸ“… ${new Date(booking.date).toLocaleDateString('ar-EG')}
â° ${booking.time}
ğŸ‘¨â€âš•ï¸ ${booking.doctor}
ğŸ“ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: 0112345678`;
            } else if (type === 'cancel') {
                message = `âš ï¸ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ù…ÙˆØ¹Ø¯Ùƒ
ğŸ“… ${new Date(booking.date).toLocaleDateString('ar-EG')}
â° ${booking.time}
ğŸ‘¨â€âš•ï¸ ${booking.doctor}
ğŸ“ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: 0112345678`;
            }
            
            console.log('ğŸ“² Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨:', message);
            // ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù†Ø±Ø³Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙØ¹Ù„ÙŠ
        }
        
        // Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
        function openAddBookingModal() {
            document.getElementById('addBookingModal').style.display = 'flex';
            
            // ØªØ¹ÙŠÙŠÙ† ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('newBookingDate').value = today;
            
            // ØªØ¹ÙŠÙŠÙ† ÙˆÙ‚Øª Ø¨Ø¹Ø¯ Ø³Ø§Ø¹Ø© ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ
            const nextHour = new Date();
            nextHour.setHours(nextHour.getHours() + 1);
            nextHour.setMinutes(0);
            document.getElementById('newBookingTime').value = 
                `${String(nextHour.getHours()).padStart(2, '0')}:00`;
        }
        
        function closeModal() {
            document.getElementById('addBookingModal').style.display = 'none';
            document.getElementById('addBookingForm').reset();
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯
        document.getElementById('addBookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newBooking = {
                id: 'BK' + Date.now().toString().slice(-8),
                name: document.getElementById('newPatientName').value,
                phone: document.getElementById('newPatientPhone').value,
                doctor: document.getElementById('newBookingDoctor').value,
                date: document.getElementById('newBookingDate').value,
                time: document.getElementById('newBookingTime').value,
                notes: document.getElementById('newBookingNotes').value,
                status: 'confirmed',
                createdAt: new Date().toISOString()
            };
            
            // Ø­ÙØ¸ ÙÙŠ localStorage
            let bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            bookings.push(newBooking);
            localStorage.setItem('clinic_bookings', JSON.stringify(bookings));
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨
            sendWhatsAppNotification(newBooking, 'confirm');
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            closeModal();
            loadTodayBookings();
            loadRecentBookings();
            loadDashboardData();
            generateCalendar();
            
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ¥Ø±Ø³Ø§Ù„ ØªØ£ÙƒÙŠØ¯ Ù„Ù„Ù…Ø±ÙŠØ¶');
        });
        
        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø´Ù‡Ø±
        function prevMonth() {
            // Ù…Ø­Ø§ÙƒØ§Ø© (ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ù‡Ø±)
            alert('Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚');
        }
        
        function nextMonth() {
            // Ù…Ø­Ø§ÙƒØ§Ø©
            alert('Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ');
        }
        
        // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        function printReport() {
            const bookings = JSON.parse(localStorage.getItem('clinic_bookings') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            const todayBookings = bookings.filter(b => b.date === today);
            const confirmedBookings = todayBookings.filter(b => b.status === 'confirmed').length;
            const pendingBookings = todayBookings.filter(b => b.status === 'pending').length;
            const revenue = confirmedBookings * 200;
            
            const report = `ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…
ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-EG')}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“‹ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: ${todayBookings.length}
âœ… Ø§Ù„Ù…Ø¤ÙƒØ¯Ø©: ${confirmedBookings}
â° ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±: ${pendingBookings}
ğŸ’° Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: ${revenue.toLocaleString()} Ø±ÙŠØ§Ù„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‘¥ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª:
${todayBookings.map(b => `â€¢ ${b.time} - ${b.name} (${b.doctor}) - ${getStatusText(b.status)}`).join('\n')}`;
            
            alert(report);
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯
        function loadMoreBookings() {
            alert('ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª...');
            // ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù†Ø­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª
        }
        
        // ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('active');
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ
        document.addEventListener('click', function(e) {
            if (window.innerWidth <= 992) {
                const sidebar = document.querySelector('.sidebar');
                const menuToggle = document.querySelector('.menu-toggle');
                
                if (sidebar.classList.contains('active') && 
                    !sidebar.contains(e.target) && 
                    !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('active');
                }
            }
        });
    </script>
</body>
</html>
